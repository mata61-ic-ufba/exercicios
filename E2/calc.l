// Felipe Carvalho GÃ³es
%option noyywrap
%{
enum yytokentype {
   NUMBER = 258, 
   ADD = 259, 
   SUB = 260, 
   MUL = 261, 
   DIV = 262, 
   ABS = 263,  
   EOL = 264
};  
%}    

%%

"+"    { return ADD; }
"-"    { return SUB; }
"*"    { return MUL; }
"/"    { return DIV; }
"|"    { return ABS; }
[0-9]+(\.[0-9]+)? { return NUMBER; }
([0-9]+\.)|(\.[0-9]+) {printf("Invalid number = %c%c\n", *yytext, *(yytext+1));}
[ \t]  { /* ignore whitespace */ }
\n     { return EOL; } 
.      { printf("Mystery character %c\n", *yytext); }

%%

main(int argc, char **argv)
{      
   int tok;
   while ((tok = yylex())) {
      printf("%d", tok);
      if (tok == NUMBER) printf(" = %s\n", yytext); 
      else printf("\n");                
   } 
}
